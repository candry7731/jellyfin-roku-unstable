"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const chai_1 = require("chai");
const Program_1 = require("../../Program");
describe('BrsFileValidator', () => {
    let program;
    beforeEach(() => {
        program = new Program_1.Program({});
    });
    it('links dotted get expression parents', () => {
        const file = program.setFile('source/main.bs', `
            sub main()
                print {}.beta.charlie
            end sub
        `);
        program.validate();
        const func = file.parser.ast.statements[0];
        const print = func.func.body.statements[0];
        (0, chai_1.expect)(print.parent).to.equal(func.func.body);
        const charlie = print.expressions[0];
        (0, chai_1.expect)(charlie.parent).to.equal(print);
        const beta = charlie.obj;
        (0, chai_1.expect)(beta.parent).to.equal(charlie);
        const aaLiteral = beta.obj;
        (0, chai_1.expect)(aaLiteral.parent).to.equal(beta);
    });
    it('links NamespacedVariableNameExpression dotted get parents', () => {
        const file = program.setFile('source/main.bs', `
            namespace alpha.bravo
                class Delta extends alpha.bravo.Charlie
                end class
                class Charlie
                end class
            end namespace
        `);
        program.validate();
        const namespace = file.parser.ast.statements[0];
        const deltaClass = namespace.body.statements[0];
        (0, chai_1.expect)(deltaClass.parent).to.equal(namespace.body);
        const charlie = deltaClass.parentClassName.expression;
        (0, chai_1.expect)(charlie.parent).to.equal(deltaClass.parentClassName);
        const bravo = charlie.obj;
        (0, chai_1.expect)(bravo.parent).to.equal(charlie);
        const alpha = bravo.obj;
        (0, chai_1.expect)(alpha.parent).to.equal(bravo);
    });
});
//# sourceMappingURL=BrsFileValidator.spec.js.map